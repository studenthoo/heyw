!function(W){function P(){var d=document.getElementsByTagName("script"),c=d[d.length-1].src.split("?")[0];return c.split("/").length>0?c.split("/").slice(0,-1).join("/")+"/":""}function e(g,f,i){for(var h=0;h<f.length;h++){i(g,f[h])}}var K,J,I,H,G,F,E,D,C,B,A,V=!1,U=!1,T=5000,S=2000,R=0,Q=W,O=P(),N=["ms","moz","webkit","o"],M=window.requestAnimationFrame||!1,L=window.cancelAnimationFrame||!1;if(!M){for(K in N){J=N[K],M||(M=window[J+"RequestAnimationFrame"]),L||(L=window[J+"CancelAnimationFrame"]||window[J+"CancelRequestAnimationFrame"])}}I=window.MutationObserver||window.WebKitMutationObserver||!1,H={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:0.3,rtlmode:!1,cursordragontouch:!1,oneaxismousemode:"auto"},G=!1,F=function(){function j(){var f,b,g=["-moz-grab","-webkit-grab","grab"];for((h.ischrome&&!h.ischrome22||h.isie)&&(g=[]),f=0;f<g.length;f++){if(b=g[f],i.style.cursor=b,i.style.cursor==b){return b}}return"url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}var i,h,n,m,l,k;if(G){return G}i=document.createElement("DIV"),h={},h.haspointerlock="pointerLockElement" in document||"mozPointerLockElement" in document||"webkitPointerLockElement" in document,h.isopera="opera" in window,h.isopera12=h.isopera&&"getUserMedia" in navigator,h.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),h.isie="all" in document&&"attachEvent" in i&&!h.isopera,h.isieold=h.isie&&!("msInterpolationMode" in i.style),h.isie7=!(!h.isie||h.isieold||"documentMode" in document&&7!=document.documentMode),h.isie8=h.isie&&"documentMode" in document&&8==document.documentMode,h.isie9=h.isie&&"performance" in window&&document.documentMode>=9,h.isie10=h.isie&&"performance" in window&&document.documentMode>=10,h.isie9mobile=/iemobile.9/i.test(navigator.userAgent),h.isie9mobile&&(h.isie9=!1),h.isie7mobile=!h.isie9mobile&&h.isie7&&/iemobile/i.test(navigator.userAgent),h.ismozilla="MozAppearance" in i.style,h.iswebkit="WebkitAppearance" in i.style,h.ischrome="chrome" in window,h.ischrome22=h.ischrome&&h.haspointerlock,h.ischrome26=h.ischrome&&"transition" in i.style,h.cantouch="ontouchstart" in document.documentElement||"ontouchstart" in window,h.hasmstouch=window.navigator.msPointerEnabled||!1,h.ismac=/^mac$/i.test(navigator.platform),h.isios=h.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform),h.isios4=h.isios&&!("seal" in Object),h.isandroid=/android/i.test(navigator.userAgent),h.trstyle=!1,h.hastransform=!1,h.hastranslate3d=!1,h.transitionstyle=!1,h.hastransition=!1,h.transitionend=!1,n=["transform","msTransform","webkitTransform","MozTransform","OTransform"];for(m=0;m<n.length;m++){if("undefined"!=typeof i.style[n[m]]){h.trstyle=n[m];break}}for(h.hastransform=0!=h.trstyle,h.hastransform&&(i.style[h.trstyle]="translate3d(1px,2px,3px)",h.hastranslate3d=/translate3d/.test(i.style[h.trstyle])),h.transitionstyle=!1,h.prefixstyle="",h.transitionend=!1,n=["transition","webkitTransition","MozTransition","OTransition","OTransition","msTransition","KhtmlTransition"],l=["","-webkit-","-moz-","-o-","-o","-ms-","-khtml-"],k=["transitionend","webkitTransitionEnd","transitionend","otransitionend","oTransitionEnd","msTransitionEnd","KhtmlTransitionEnd"],m=0;m<n.length;m++){if(n[m] in i.style){h.transitionstyle=n[m],h.prefixstyle=l[m],h.transitionend=k[m];break}}return h.ischrome26&&(h.prefixstyle=l[1]),h.hastransition=h.transitionstyle,h.cursorgrabvalue=j(),h.hasmousecapture="setCapture" in i,h.hasMutationObserver=I!==!1,i=null,G=h,h},E=function(k,i){function d(){var b=h.doc.css(f.trstyle);return b&&"matrix"==b.substr(0,6)?b.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1}function c(){var j,l=h.win;if("zIndex" in l){return l.zIndex()}for(;l.length>0;){if(9==l[0].nodeType){return !1}if(j=l.css("zIndex"),!isNaN(j)&&0!=j){return parseInt(j)}l=l.parent()}return !1}function q(l,j,t){var o,s=l.css(j),p=parseFloat(s);return isNaN(p)?(p=r[s]||0,o=3==p?t?h.win.outerHeight()-h.win.innerHeight():h.win.outerWidth()-h.win.innerWidth():1,h.isie8&&p&&(p+=1),o?p:0):p}function n(l,j,p,o){h._bind(l,j,function(s){var b;return s=s?s:window.event,b={original:s,target:s.target||s.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==s.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return s.preventDefault?s.preventDefault():s.returnValue=!1,!1},stopImmediatePropagation:function(){s.stopImmediatePropagation?s.stopImmediatePropagation():s.cancelBubble=!0}},"mousewheel"==j?(b.deltaY=-1/40*s.wheelDelta,s.wheelDeltaX&&(b.deltaX=-1/40*s.wheelDeltaX)):b.deltaY=s.detail,p.call(l,b)},o)}function m(l,j,s){var p,o;if(0==l.deltaMode?(p=-Math.floor(l.deltaX*(h.opt.mousescrollstep/54)),o=-Math.floor(l.deltaY*(h.opt.mousescrollstep/54))):1==l.deltaMode&&(p=-Math.floor(l.deltaX*h.opt.mousescrollstep),o=-Math.floor(l.deltaY*h.opt.mousescrollstep)),j&&h.opt.oneaxismousemode&&0==p&&o&&(p=o,o=0),p&&(h.scrollmom&&h.scrollmom.stop(),h.lastdeltax+=p,h.debounced("mousewheelx",function(){var b=h.lastdeltax;h.lastdeltax=0,h.rail.drag||h.doScrollLeftBy(b)},120)),o){if(h.opt.nativeparentscrolling&&s&&!h.ispage&&!h.zoomactive){if(0>o){if(h.getScrollTop()>=h.page.maxh){return !0}}else{if(h.getScrollTop()<=0){return !0}}}h.scrollmom&&h.scrollmom.stop(),h.lastdeltay+=o,h.debounced("mousewheely",function(){var b=h.lastdeltay;h.lastdeltay=0,h.rail.drag||h.doScrollBy(b)},120)}return l.stopImmediatePropagation(),l.preventDefault()}var g,f,r,h=this;if(this.version="3.5.0 BETA5",this.name="nicescroll",this.me=i,this.opt={doc:Q("body"),win:!1},Q.extend(this.opt,H),this.opt.snapbackspeed=80,k){for(g in h.opt){"undefined"!=typeof k[g]&&(h.opt[g]=k[g])}}this.doc=h.opt.doc,this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/BODY|HTML/.test(h.opt.win?h.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=h.opt.win!==!1,this.win=h.opt.win||(this.ispage?Q(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?Q(window):this.win,this.body=Q("body"),this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=h.opt.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.checkrtlmode=!1,this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1;do{this.id="ascrail"+S++}while(document.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.visibility=!0,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.overflowx=h.opt.overflowx,this.overflowy=h.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=F(),f=Q.extend({},this.detected),this.canhwscroll=f.hastransform&&h.opt.hwacceleration,this.ishwscroll=this.canhwscroll&&h.haswrapper,this.istouchcapable=!1,f.cantouch&&f.ischrome&&!f.isios&&!f.isandroid&&(this.istouchcapable=!0,f.cantouch=!1),f.cantouch&&f.ismozilla&&!f.isios&&!f.isandroid&&(this.istouchcapable=!0,f.cantouch=!1),h.opt.enablemouselockapi||(f.hasmousecapture=!1,f.haspointerlock=!1),this.delayed=function(l,j,t,s){var p=h.delaylist[l],o=(new Date).getTime();return !s&&p&&p.tt?!1:(p&&p.tt&&clearTimeout(p.tt),p&&p.last+t>o&&!p.tt?h.delaylist[l]={last:o+t,tt:setTimeout(function(){h.delaylist[l].tt=0,j.call()},t)}:p&&p.tt||(h.delaylist[l]={last:o,tt:0},setTimeout(function(){j.call()},0)),void 0)},this.debounced=function(l,j,p){var o=h.delaylist[l];(new Date).getTime(),h.delaylist[l]=j,o||setTimeout(function(){var s=h.delaylist[l];h.delaylist[l]=!1,s.call()},p)},this.synched=function(l,j){function o(){h.onsync||(M(function(){h.onsync=!1;for(l in h.synclist){var p=h.synclist[l];p&&p.call(h),h.synclist[l]=!1}}),h.onsync=!0)}return h.synclist[l]=j,o(),l},this.unsynched=function(b){h.synclist[b]&&(h.synclist[b]=!1)},this.css=function(l,j){for(var o in j){h.saved.css.push([l,o,l.css(o)]),l.css(o,j[o])}},this.scrollTop=function(b){return"undefined"==typeof b?h.getScrollTop():h.setScrollTop(b)},this.scrollLeft=function(b){return"undefined"==typeof b?h.getScrollLeft():h.setScrollLeft(b)},BezierClass=function(l,j,u,t,s,p,o){this.st=l,this.ed=j,this.spd=u,this.p1=t||0,this.p2=s||1,this.p3=p||0,this.p4=o||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st},BezierClass.prototype={B2:function(b){return 3*b*b*(1-b)},B3:function(b){return 3*b*(1-b)*(1-b)},B4:function(b){return(1-b)*(1-b)*(1-b)},getNow:function(){var l=(new Date).getTime(),j=1-(l-this.ts)/this.spd,o=this.B2(j)+this.B3(j)+this.B4(j);return 0>j?this.ed:this.st+Math.round(this.df*o)},update:function(l,j){return this.st=this.getNow(),this.ed=l,this.spd=j,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll?(this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},f.hastranslate3d&&f.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(l){if(!l){var j=d();if(j){return 16==j.length?-j[13]:-j[5]}if(h.timerscroll&&h.timerscroll.bz){return h.timerscroll.bz.getNow()}}return h.doc.translate.y},this.getScrollLeft=function(l){if(!l){var j=d();if(j){return 16==j.length?-j[12]:-j[4]}if(h.timerscroll&&h.timerscroll.bh){return h.timerscroll.bh.getNow()}}return h.doc.translate.x},this.notifyScrollEvent=document.createEvent?function(l){var j=document.createEvent("UIEvents");j.initUIEvent("scroll",!1,!0,window,1),l.dispatchEvent(j)}:document.fireEvent?function(l){var j=document.createEventObject();l.fireEvent("onscroll"),j.cancelBubble=!0}:function(){},f.hastranslate3d&&h.opt.enabletranslate3d?(this.setScrollTop=function(l,j){h.doc.translate.y=l,h.doc.translate.ty=-1*l+"px",h.doc.css(f.trstyle,"translate3d("+h.doc.translate.tx+","+h.doc.translate.ty+",0px)"),j||h.notifyScrollEvent(h.win[0])},this.setScrollLeft=function(l,j){h.doc.translate.x=l,h.doc.translate.tx=-1*l+"px",h.doc.css(f.trstyle,"translate3d("+h.doc.translate.tx+","+h.doc.translate.ty+",0px)"),j||h.notifyScrollEvent(h.win[0])}):(this.setScrollTop=function(l,j){h.doc.translate.y=l,h.doc.translate.ty=-1*l+"px",h.doc.css(f.trstyle,"translate("+h.doc.translate.tx+","+h.doc.translate.ty+")"),j||h.notifyScrollEvent(h.win[0])},this.setScrollLeft=function(l,j){h.doc.translate.x=l,h.doc.translate.tx=-1*l+"px",h.doc.css(f.trstyle,"translate("+h.doc.translate.tx+","+h.doc.translate.ty+")"),j||h.notifyScrollEvent(h.win[0])})):(this.getScrollTop=function(){return h.docscroll.scrollTop()},this.setScrollTop=function(b){return h.docscroll.scrollTop(b)},this.getScrollLeft=function(){return h.docscroll.scrollLeft()},this.setScrollLeft=function(b){return h.docscroll.scrollLeft(b)}),this.getTarget=function(b){return b?b.target?b.target:b.srcElement?b.srcElement:!1:!1},this.hasParent=function(l,j){if(!l){return !1}for(var o=l.target||l.srcElement||l||!1;o&&o.id!=j;){o=o.parentNode||!1}return o!==!1},r={thin:1,medium:3,thick:5},this.getOffset=function(){var l,j;return h.isfixed?{top:parseFloat(h.win.css("top")),left:parseFloat(h.win.css("left"))}:h.viewport?(l=h.win.offset(),j=h.viewport.offset(),{top:l.top-j.top+h.viewport.scrollTop(),left:l.left-j.left+h.viewport.scrollLeft()}):h.win.offset()},this.updateScrollBar=function(l){var j,t,s,p,o;h.ishwscroll?(h.rail.css({height:h.win.innerHeight()}),h.railh&&h.railh.css({width:h.win.innerWidth()})):(j=h.getOffset(),t={top:j.top,left:j.left},t.top+=q(h.win,"border-top-width",!0),(h.win.outerWidth()-h.win.innerWidth())/2,t.left+=h.rail.align?h.win.outerWidth()-q(h.win,"border-right-width")-h.rail.width:q(h.win,"border-left-width"),s=h.opt.railoffset,s&&(s.top&&(t.top+=s.top),h.rail.align&&s.left&&(t.left+=s.left)),h.locked||h.rail.css({top:t.top,left:t.left,height:l?l.h:h.win.innerHeight()}),h.zoom&&h.zoom.css({top:t.top+1,left:1==h.rail.align?t.left-20:t.left+h.rail.width+4}),h.railh&&!h.locked&&(t={top:j.top,left:j.left},p=h.railh.align?t.top+q(h.win,"border-top-width",!0)+h.win.innerHeight()-h.railh.height:t.top+q(h.win,"border-top-width",!0),o=t.left+q(h.win,"border-left-width"),h.railh.css({top:p,left:o,width:h.railh.width})))},this.doRailClick=function(l,j,u){var t,s,p,o;h.locked||(h.cancelEvent(l),j?(t=u?h.doScrollLeft:h.doScrollTop,p=u?(l.pageX-h.railh.offset().left-h.cursorwidth/2)*h.scrollratio.x:(l.pageY-h.rail.offset().top-h.cursorheight/2)*h.scrollratio.y,t(p)):(t=u?h.doScrollLeftBy:h.doScrollBy,p=u?h.scroll.x:h.scroll.y,o=u?l.pageX-h.railh.offset().left:l.pageY-h.rail.offset().top,s=u?h.view.w:h.view.h,p>=o?t(s):t(-s)))},h.hasanimationframe=M,h.hascancelanimationframe=L,h.hasanimationframe?h.hascancelanimationframe||(L=function(){h.cancelAnimationFrame=!0}):(M=function(b){return setTimeout(b,15-Math.floor(+new Date/1000)%16)},L=clearInterval),this.init=function(){function l(o){var j,t,s;h.selectiondrag&&(o&&(j=h.win.outerHeight(),t=o.pageY-h.selectiondrag.top,t>0&&j>t&&(t=0),t>=j&&(t-=j),h.selectiondrag.df=t),0!=h.selectiondrag.df&&(s=2*-Math.floor(h.selectiondrag.df/6),h.doScrollBy(s),h.debounced("doselectionscroll",function(){l()},50)))}function ab(){var j,s;h.iframexd=!1;try{j="contentDocument" in this?this.contentDocument:this.contentWindow.document,j.domain}catch(o){h.iframexd=!0,j=!1}return h.iframexd?("console" in window&&console.log("NiceScroll error: policy restriced iframe"),!0):(h.forcescreen=!0,h.isiframe&&(h.iframe={doc:Q(j),html:h.doc.contents().find("html")[0],body:h.doc.contents().find("body")[0]},h.getContentSize=function(){return{w:Math.max(h.iframe.html.scrollWidth,h.iframe.body.scrollWidth),h:Math.max(h.iframe.html.scrollHeight,h.iframe.body.scrollHeight)}},h.docscroll=Q(h.iframe.body)),f.isios||!h.opt.iframeautoresize||h.isiframe||(h.win.scrollTop(0),h.doc.height(""),s=Math.max(j.getElementsByTagName("html")[0].scrollHeight,j.body.scrollHeight),h.doc.height(s)),h.lazyResize(30),f.isie7&&h.css(Q(h.iframe.html),{"overflow-y":"hidden"}),h.css(Q(h.iframe.body),{"overflow-y":"hidden"}),f.isios&&h.haswrapper&&(h.css(Q(j.body),{"-webkit-transform":"translate3d(0,0,0)"}),console.log(1)),"contentWindow" in this?h.bind(this.contentWindow,"scroll",h.onscroll):h.bind(j,"scroll",h.onscroll),h.opt.enablemousewheel&&h.bind(j,"mousewheel",h.onmousewheel),h.opt.enablekeyboard&&h.bind(j,f.isopera?"keypress":"keydown",h.onkeypress),(f.cantouch||h.opt.touchbehavior)&&(h.bind(j,"mousedown",h.ontouchstart),h.bind(j,"mousemove",function(b){h.ontouchmove(b,!0)}),h.opt.grabcursorenabled&&f.cursorgrabvalue&&h.css(Q(j.body),{cursor:f.cursorgrabvalue})),h.bind(j,"mouseup",h.ontouchend),h.zoom&&(h.opt.dblclickzoom&&h.bind(j,"dblclick",h.doZoom),h.ongesturezoom&&h.bind(j,"gestureend",h.ongesturezoom)),void 0)}var al,ak,aj,ai,ah,ag,af,ac,aa,Z,Y,X,v,p,ae,ad;if(h.saved.css=[],f.isie7mobile){return !0}if(f.isoperamini){return !0}if(f.hasmstouch&&h.css(h.ispage?Q("html"):h.win,{"-ms-touch-action":"none"}),h.zindex="auto",h.zindex=h.ispage||"auto"!=h.opt.zindex?h.opt.zindex:c()||"auto",h.ispage||"auto"==h.zindex||h.zindex>R&&(R=h.zindex),h.isie&&0==h.zindex&&"auto"==h.opt.zindex&&(h.zindex="auto"),!h.ispage||!f.cantouch&&!f.isieold&&!f.isie9mobile){al=h.docscroll,h.ispage&&(al=h.haswrapper?h.win:h.doc),f.isie9mobile||h.css(al,{"overflow-y":"hidden"}),h.ispage&&f.isie7&&("BODY"==h.doc[0].nodeName?h.css(Q("html"),{"overflow-y":"hidden"}):"HTML"==h.doc[0].nodeName&&h.css(Q("body"),{"overflow-y":"hidden"})),!f.isios||h.ispage||h.haswrapper||h.css(Q("body"),{"-webkit-overflow-scrolling":"touch"}),ak=Q(document.createElement("div")),ak.css({position:"relative",top:0,"float":"right",width:h.opt.cursorwidth,height:"0px","background-color":h.opt.cursorcolor,border:h.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":h.opt.cursorborderradius,"-moz-border-radius":h.opt.cursorborderradius,"border-radius":h.opt.cursorborderradius}),ak.hborder=parseFloat(ak.outerHeight()-ak.innerHeight()),h.cursor=ak,aj=Q(document.createElement("div")),aj.attr("id",h.id),aj.addClass("nicescroll-rails"),ag=["left","right"];for(af in ag){ah=ag[af],ai=h.opt.railpadding[ah],ai?aj.css("padding-"+ah,ai+"px"):h.opt.railpadding[ah]=0}aj.append(ak),aj.width=Math.max(parseFloat(h.opt.cursorwidth),ak.outerWidth())+h.opt.railpadding.left+h.opt.railpadding.right,aj.css({width:aj.width+"px",zIndex:h.zindex,background:h.opt.background,cursor:"default"}),aj.visibility=!0,aj.scrollable=!0,aj.align="left"==h.opt.railalign?0:1,h.rail=aj,h.rail.drag=!1,ac=!1,!h.opt.boxzoom||h.ispage||f.isieold||(ac=document.createElement("div"),h.bind(ac,"click",h.doZoom),h.zoom=Q(ac),h.zoom.css({cursor:"pointer","z-index":h.zindex,backgroundImage:"url("+O+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),h.opt.dblclickzoom&&h.bind(h.win,"dblclick",h.doZoom),f.cantouch&&h.opt.gesturezoom&&(h.ongesturezoom=function(b){return b.scale>1.5&&h.doZoomIn(b),b.scale<0.8&&h.doZoomOut(b),h.cancelEvent(b)},h.bind(h.win,"gestureend",h.ongesturezoom))),h.railh=!1,h.opt.horizrailenabled&&(h.css(al,{"overflow-x":"hidden"}),ak=Q(document.createElement("div")),ak.css({position:"relative",top:0,height:h.opt.cursorwidth,width:"0px","background-color":h.opt.cursorcolor,border:h.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":h.opt.cursorborderradius,"-moz-border-radius":h.opt.cursorborderradius,"border-radius":h.opt.cursorborderradius}),ak.wborder=parseFloat(ak.outerWidth()-ak.innerWidth()),h.cursorh=ak,aa=Q(document.createElement("div")),aa.attr("id",h.id+"-hr"),aa.addClass("nicescroll-rails"),aa.height=Math.max(parseFloat(h.opt.cursorwidth),ak.outerHeight()),aa.css({height:aa.height+"px",zIndex:h.zindex,background:h.opt.background}),aa.append(ak),aa.visibility=!0,aa.scrollable=!0,aa.align="top"==h.opt.railvalign?0:1,h.railh=aa,h.railh.drag=!1),h.ispage?(aj.css({position:"fixed",top:"0px",height:"100%"}),aj.align?aj.css({right:"0px"}):aj.css({left:"0px"}),h.body.append(aj),h.railh&&(aa.css({position:"fixed",left:"0px",width:"100%"}),aa.align?aa.css({bottom:"0px"}):aa.css({top:"0px"}),h.body.append(aa))):(h.ishwscroll?("static"==h.win.css("position")&&h.css(h.win,{position:"relative"}),Z="HTML"==h.win[0].nodeName?h.body:h.win,h.zoom&&(h.zoom.css({position:"absolute",top:1,right:0,"margin-right":aj.width+4}),Z.append(h.zoom)),aj.css({position:"absolute",top:0}),aj.align?aj.css({right:0}):aj.css({left:0}),Z.append(aj),aa&&(aa.css({position:"absolute",left:0,bottom:0}),aa.align?aa.css({bottom:0}):aa.css({top:0}),Z.append(aa))):(h.isfixed="fixed"==h.win.css("position"),Y=h.isfixed?"fixed":"absolute",h.isfixed||(h.viewport=h.getViewport(h.win[0])),h.viewport&&(h.body=h.viewport,0==/relative|absolute/.test(h.viewport.css("position"))&&h.css(h.viewport,{position:"relative"})),aj.css({position:Y}),h.zoom&&h.zoom.css({position:Y}),h.updateScrollBar(),h.body.append(aj),h.zoom&&h.body.append(h.zoom),h.railh&&(aa.css({position:Y}),h.body.append(aa))),f.isios&&h.css(h.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),f.isie&&h.opt.disableoutline&&h.win.attr("hideFocus","true"),f.iswebkit&&h.opt.disableoutline&&h.win.css({outline:"none"})),h.opt.autohidemode===!1?(h.autohidedom=!1,h.rail.css({opacity:h.opt.cursoropacitymax}),h.railh&&h.railh.css({opacity:h.opt.cursoropacitymax})):h.opt.autohidemode===!0?(h.autohidedom=Q().add(h.rail),f.isie8&&(h.autohidedom=h.autohidedom.add(h.cursor)),h.railh&&(h.autohidedom=h.autohidedom.add(h.railh)),h.railh&&f.isie8&&(h.autohidedom=h.autohidedom.add(h.cursorh))):"scroll"==h.opt.autohidemode?(h.autohidedom=Q().add(h.rail),h.railh&&(h.autohidedom=h.autohidedom.add(h.railh))):"cursor"==h.opt.autohidemode?(h.autohidedom=Q().add(h.cursor),h.railh&&(h.autohidedom=h.autohidedom.add(h.cursorh))):"hidden"==h.opt.autohidemode&&(h.autohidedom=!1,h.hide(),h.locked=!1),f.isie9mobile?(h.scrollmom=new D(h),h.onmangotouch=function(){var y,x,w,u,t,s,o,am=h.getScrollTop(),z=h.getScrollLeft();return am==h.scrollmom.lastscrolly&&z==h.scrollmom.lastscrollx?!0:(y=am-h.mangotouch.sy,x=z-h.mangotouch.sx,w=Math.round(Math.sqrt(Math.pow(x,2)+Math.pow(y,2))),0!=w&&(u=0>y?-1:1,t=0>x?-1:1,s=+new Date,h.mangotouch.lazy&&clearTimeout(h.mangotouch.lazy),s-h.mangotouch.tm>80||h.mangotouch.dry!=u||h.mangotouch.drx!=t?(h.scrollmom.stop(),h.scrollmom.reset(z,am),h.mangotouch.sy=am,h.mangotouch.ly=am,h.mangotouch.sx=z,h.mangotouch.lx=z,h.mangotouch.dry=u,h.mangotouch.drx=t,h.mangotouch.tm=s):(h.scrollmom.stop(),h.scrollmom.update(h.mangotouch.sx-x,h.mangotouch.sy-y),s-h.mangotouch.tm,h.mangotouch.tm=s,o=Math.max(Math.abs(h.mangotouch.ly-am),Math.abs(h.mangotouch.lx-z)),h.mangotouch.ly=am,h.mangotouch.lx=z,o>2&&(h.mangotouch.lazy=setTimeout(function(){h.mangotouch.lazy=!1,h.mangotouch.dry=0,h.mangotouch.drx=0,h.mangotouch.tm=0,h.scrollmom.doMomentum(30)},100)))),void 0)},X=h.getScrollTop(),v=h.getScrollLeft(),h.mangotouch={sy:X,ly:X,dry:0,sx:v,lx:v,drx:0,lazy:!1,tm:0},h.bind(h.docscroll,"scroll",h.onmangotouch)):((f.cantouch||h.istouchcapable||h.opt.touchbehavior||f.hasmstouch)&&(h.scrollmom=new D(h),h.ontouchstart=function(ao){var an,am,z,y,x,w,u,t,s,o;if(ao.pointerType&&2!=ao.pointerType){return !1}if(!h.locked){if(f.hasmstouch){for(an=ao.target?ao.target:!1;an&&(am=Q(an).getNiceScroll(),!(am.length>0&&am[0].me==h.me));){if(am.length>0){return !1}if("DIV"==an.nodeName&&an.id==h.id){break}an=an.parentNode?an.parentNode:!1}}if(h.cancelScroll(),an=h.getTarget(ao),an&&(z=/INPUT/i.test(an.nodeName)&&/range/i.test(an.type))){return h.stopPropagation(ao)}if(!("clientX" in ao)&&"changedTouches" in ao&&(ao.clientX=ao.changedTouches[0].clientX,ao.clientY=ao.changedTouches[0].clientY),h.forcescreen&&(y=ao,ao={original:ao.original?ao.original:ao},ao.clientX=y.screenX,ao.clientY=y.screenY),h.rail.drag={x:ao.clientX,y:ao.clientY,sx:h.scroll.x,sy:h.scroll.y,st:h.getScrollTop(),sl:h.getScrollLeft(),pt:2,dl:!1},h.ispage||!h.opt.directionlockdeadzone?h.rail.drag.dl="f":(x={w:Q(window).width(),h:Q(window).height()},w={w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},u=Math.max(0,w.h-x.h),t=Math.max(0,w.w-x.w),h.rail.drag.ck=!h.rail.scrollable&&h.railh.scrollable?u>0?"v":!1:h.rail.scrollable&&!h.railh.scrollable?t>0?"h":!1:!1,h.rail.drag.ck||(h.rail.drag.dl="f")),h.opt.touchbehavior&&h.isiframe&&f.isie&&(s=h.win.position(),h.rail.drag.x+=s.left,h.rail.drag.y+=s.top),h.hasmoving=!1,h.lastmouseup=!1,h.scrollmom.reset(ao.clientX,ao.clientY),!f.cantouch&&!this.istouchcapable&&!f.hasmstouch){if(o=an?/INPUT|SELECT|TEXTAREA/i.test(an.nodeName):!1,!o){return !h.ispage&&f.hasmousecapture&&an.setCapture(),h.opt.touchbehavior?h.cancelEvent(ao):h.stopPropagation(ao)}/SUBMIT|CANCEL|BUTTON/i.test(Q(an).attr("type"))&&(pc={tg:an,click:!1},h.preventclick=pc)}}},h.ontouchend=function(b){return b.pointerType&&2!=b.pointerType?!1:h.rail.drag&&2==h.rail.drag.pt&&(h.scrollmom.doMomentum(),h.rail.drag=!1,h.hasmoving&&(h.hasmoving=!1,h.lastmouseup=!0,h.hideCursor(),f.hasmousecapture&&document.releaseCapture(),!f.cantouch))?h.cancelEvent(b):void 0},p=h.opt.touchbehavior&&h.isiframe&&!f.hasmousecapture,h.ontouchmove=function(av,au){var at,ar,aq,ap,ao,an,am,z,y,x,w,u,t,aw;if(av.pointerType&&2!=av.pointerType){return !1}if(h.rail.drag&&2==h.rail.drag.pt){if(f.cantouch&&"undefined"==typeof av.original){return !0}if(h.hasmoving=!0,h.preventclick&&!h.preventclick.click&&(h.preventclick.click=h.preventclick.tg.onclick||!1,h.preventclick.tg.onclick=h.onpreventclick),at=Q.extend({original:av},av),av=at,"changedTouches" in av&&(av.clientX=av.changedTouches[0].clientX,av.clientY=av.changedTouches[0].clientY),h.forcescreen&&(ar=av,av={original:av.original?av.original:av},av.clientX=ar.screenX,av.clientY=ar.screenY),aq=ofy=0,p&&!au&&(ap=h.win.position(),aq=-ap.left,ofy=-ap.top),ao=av.clientY+ofy,an=ao-h.rail.drag.y,am=av.clientX+aq,z=am-h.rail.drag.x,y=h.rail.drag.st-an,h.ishwscroll&&h.opt.bouncescroll?0>y?y=Math.round(y/2):y>h.page.maxh&&(y=h.page.maxh+Math.round((y-h.page.maxh)/2)):(0>y&&(y=0,ao=0),y>h.page.maxh&&(y=h.page.maxh,ao=0)),h.railh&&h.railh.scrollable&&(x=h.rail.drag.sl-z,h.ishwscroll&&h.opt.bouncescroll?0>x?x=Math.round(x/2):x>h.page.maxw&&(x=h.page.maxw+Math.round((x-h.page.maxw)/2)):(0>x&&(x=0,am=0),x>h.page.maxw&&(x=h.page.maxw,am=0))),w=!1,h.rail.drag.dl){w=!0,"v"==h.rail.drag.dl?x=h.rail.drag.sl:"h"==h.rail.drag.dl&&(y=h.rail.drag.st)}else{if(u=Math.abs(an),t=Math.abs(z),aw=h.opt.directionlockdeadzone,"v"==h.rail.drag.ck){if(u>aw&&0.3*u>=t){return h.rail.drag=!1,!0}t>aw&&(h.rail.drag.dl="f",Q("body").scrollTop(Q("body").scrollTop()))}else{if("h"==h.rail.drag.ck){if(t>aw&&0.3*t>=u){return h.rail.drag=!1,!0}u>aw&&(h.rail.drag.dl="f",Q("body").scrollLeft(Q("body").scrollLeft()))}}}if(h.synched("touchmove",function(){h.rail.drag&&2==h.rail.drag.pt&&(h.prepareTransition&&h.prepareTransition(0),h.rail.scrollable&&h.setScrollTop(y),h.scrollmom.update(am,ao),h.railh&&h.railh.scrollable?(h.setScrollLeft(x),h.showCursor(y,x)):h.showCursor(y),f.isie10&&document.selection.clear())}),f.ischrome&&h.istouchcapable&&(w=!1),w){return h.cancelEvent(av)}}}),h.onmousedown=function(o,j){if(!h.rail.drag||1==h.rail.drag.pt){if(h.locked){return h.cancelEvent(o)}h.cancelScroll(),h.rail.drag={x:o.clientX,y:o.clientY,sx:h.scroll.x,sy:h.scroll.y,pt:1,hr:!!j};var s=h.getTarget(o);return !h.ispage&&f.hasmousecapture&&s.setCapture(),h.isiframe&&!f.hasmousecapture&&(h.saved.csspointerevents=h.doc.css("pointer-events"),h.css(h.doc,{"pointer-events":"none"})),h.cancelEvent(o)}},h.onmouseup=function(b){if(h.rail.drag){if(f.hasmousecapture&&document.releaseCapture(),h.isiframe&&!f.hasmousecapture&&h.doc.css("pointer-events",h.saved.csspointerevents),1!=h.rail.drag.pt){return}return h.rail.drag=!1,h.cancelEvent(b)}},h.onmousemove=function(o){var j,s;if(h.rail.drag){if(1!=h.rail.drag.pt){return}return f.ischrome&&0==o.which?h.onmouseup(o):(h.cursorfreezed=!0,h.rail.drag.hr?(h.scroll.x=h.rail.drag.sx+(o.clientX-h.rail.drag.x),h.scroll.x<0&&(h.scroll.x=0),j=h.scrollvaluemaxw,h.scroll.x>j&&(h.scroll.x=j)):(h.scroll.y=h.rail.drag.sy+(o.clientY-h.rail.drag.y),h.scroll.y<0&&(h.scroll.y=0),s=h.scrollvaluemax,h.scroll.y>s&&(h.scroll.y=s)),h.synched("mousemove",function(){h.rail.drag&&1==h.rail.drag.pt&&(h.showCursor(),h.rail.drag.hr?h.doScrollLeft(Math.round(h.scroll.x*h.scrollratio.x),h.opt.cursordragspeed):h.doScrollTop(Math.round(h.scroll.y*h.scrollratio.y),h.opt.cursordragspeed))}),h.cancelEvent(o))}},f.cantouch||h.opt.touchbehavior?(h.onpreventclick=function(b){return h.preventclick?(h.preventclick.tg.onclick=h.preventclick.click,h.preventclick=!1,h.cancelEvent(b)):void 0},h.bind(h.win,"mousedown",h.ontouchstart),h.onclick=f.isios?!1:function(b){return h.lastmouseup?(h.lastmouseup=!1,h.cancelEvent(b)):!0},h.opt.grabcursorenabled&&f.cursorgrabvalue&&(h.css(h.ispage?h.doc:h.win,{cursor:f.cursorgrabvalue}),h.css(h.rail,{cursor:f.cursorgrabvalue}))):(h.hasTextSelected="getSelection" in document?function(){return document.getSelection().rangeCount>0}:"selection" in document?function(){return"None"!=document.selection.type}:function(){return !1},h.onselectionstart=function(){h.ispage||(h.selectiondrag=h.win.offset())},h.onselectionend=function(){h.selectiondrag=!1},h.onselectiondrag=function(b){h.selectiondrag&&h.hasTextSelected()&&h.debounced("selectionscroll",function(){l(b)},250)}),f.hasmstouch&&(h.css(h.rail,{"-ms-touch-action":"none"}),h.css(h.cursor,{"-ms-touch-action":"none"}),h.bind(h.win,"MSPointerDown",h.ontouchstart),h.bind(document,"MSPointerUp",h.ontouchend),h.bind(document,"MSPointerMove",h.ontouchmove),h.bind(h.cursor,"MSGestureHold",function(b){b.preventDefault()}),h.bind(h.cursor,"contextmenu",function(b){b.preventDefault()})),this.istouchcapable&&(h.bind(h.win,"touchstart",h.ontouchstart),h.bind(document,"touchend",h.ontouchend),h.bind(document,"touchcancel",h.ontouchend),h.bind(document,"touchmove",h.ontouchmove)),h.bind(h.cursor,"mousedown",h.onmousedown),h.bind(h.cursor,"mouseup",h.onmouseup),h.railh&&(h.bind(h.cursorh,"mousedown",function(b){h.onmousedown(b,!0)}),h.bind(h.cursorh,"mouseup",function(b){return h.rail.drag&&2==h.rail.drag.pt?void 0:(h.rail.drag=!1,h.hasmoving=!1,h.hideCursor(),f.hasmousecapture&&document.releaseCapture(),h.cancelEvent(b))})),(h.opt.cursordragontouch||!f.cantouch&&!h.opt.touchbehavior)&&(h.rail.css({cursor:"default"}),h.railh&&h.railh.css({cursor:"default"}),h.jqbind(h.rail,"mouseenter",function(){h.canshowonmouseevent&&h.showCursor(),h.rail.active=!0}),h.jqbind(h.rail,"mouseleave",function(){h.rail.active=!1,h.rail.drag||h.hideCursor()}),h.opt.sensitiverail&&(h.bind(h.rail,"click",function(b){h.doRailClick(b,!1,!1)}),h.bind(h.rail,"dblclick",function(b){h.doRailClick(b,!0,!1)}),h.bind(h.cursor,"click",function(b){h.cancelEvent(b)}),h.bind(h.cursor,"dblclick",function(b){h.cancelEvent(b)})),h.railh&&(h.jqbind(h.railh,"mouseenter",function(){h.canshowonmouseevent&&h.showCursor(),h.rail.active=!0}),h.jqbind(h.railh,"mouseleave",function(){h.rail.active=!1,h.rail.drag||h.hideCursor()}),h.opt.sensitiverail&&(h.bind(h.railh,"click",function(b){h.doRailClick(b,!1,!0)}),h.bind(h.railh,"dblclick",function(b){h.doRailClick(b,!0,!0)}),h.bind(h.cursorh,"click",function(b){h.cancelEvent(b)}),h.bind(h.cursorh,"dblclick",function(b){h.cancelEvent(b)})))),f.cantouch||h.opt.touchbehavior?(h.bind(f.hasmousecapture?h.win:document,"mouseup",h.ontouchend),h.bind(document,"mousemove",h.ontouchmove),h.onclick&&h.bind(document,"click",h.onclick),h.opt.cursordragontouch&&(h.bind(h.cursor,"mousedown",h.onmousedown),h.bind(h.cursor,"mousemove",h.onmousemove),h.cursorh&&h.bind(h.cursorh,"mousedown",h.onmousedown),h.cursorh&&h.bind(h.cursorh,"mousemove",h.onmousemove))):(h.bind(f.hasmousecapture?h.win:document,"mouseup",h.onmouseup),h.bind(document,"mousemove",h.onmousemove),h.onclick&&h.bind(document,"click",h.onclick),!h.ispage&&h.opt.enablescrollonselection&&(h.bind(h.win[0],"mousedown",h.onselectionstart),h.bind(document,"mouseup",h.onselectionend),h.bind(h.cursor,"mouseup",h.onselectionend),h.cursorh&&h.bind(h.cursorh,"mouseup",h.onselectionend),h.bind(document,"mousemove",h.onselectiondrag)),h.zoom&&(h.jqbind(h.zoom,"mouseenter",function(){h.canshowonmouseevent&&h.showCursor(),h.rail.active=!0}),h.jqbind(h.zoom,"mouseleave",function(){h.rail.active=!1,h.rail.drag||h.hideCursor()}))),h.opt.enablemousewheel&&(h.isiframe||h.bind(f.isie&&h.ispage?document:h.win,"mousewheel",h.onmousewheel),h.bind(h.rail,"mousewheel",h.onmousewheel),h.railh&&h.bind(h.railh,"mousewheel",h.onmousewheelhr)),h.ispage||f.cantouch||/HTML|BODY/.test(h.win[0].nodeName)||(h.win.attr("tabindex")||h.win.attr({tabindex:T++}),h.jqbind(h.win,"focus",function(b){V=h.getTarget(b).id||!0,h.hasfocus=!0,h.canshowonmouseevent&&h.noticeCursor()}),h.jqbind(h.win,"blur",function(){V=!1,h.hasfocus=!1}),h.jqbind(h.win,"mouseenter",function(b){U=h.getTarget(b).id||!0,h.hasmousefocus=!0,h.canshowonmouseevent&&h.noticeCursor()}),h.jqbind(h.win,"mouseleave",function(){U=!1,h.hasmousefocus=!1}))),h.onkeypress=function(s){var o,y,x,w,u,t;if(h.locked&&0==h.page.maxh){return !0}if(s=s?s:window.e,o=h.getTarget(s),o&&/INPUT|TEXTAREA|SELECT|OPTION/.test(o.nodeName)&&(y=o.getAttribute("type")||o.type||!1,!y||!/submit|button|cancel/i.tp)){return !0}if(h.hasfocus||h.hasmousefocus&&!V||h.ispage&&!V&&!U){if(x=s.keyCode,h.locked&&27!=x){return h.cancelEvent(s)}switch(w=s.ctrlKey||!1,u=s.shiftKey||!1,t=!1,x){case 38:case 63233:h.doScrollBy(72),t=!0;break;case 40:case 63235:h.doScrollBy(-72),t=!0;break;case 37:case 63232:h.railh&&(w?h.doScrollLeft(0):h.doScrollLeftBy(72),t=!0);break;case 39:case 63234:h.railh&&(w?h.doScrollLeft(h.page.maxw):h.doScrollLeftBy(-72),t=!0);break;case 33:case 63276:h.doScrollBy(h.view.h),t=!0;break;case 34:case 63277:h.doScrollBy(-h.view.h),t=!0;break;case 36:case 63273:h.railh&&w?h.doScrollPos(0,0):h.doScrollTo(0),t=!0;break;case 35:case 63275:h.railh&&w?h.doScrollPos(h.page.maxw,h.page.maxh):h.doScrollTo(h.page.maxh),t=!0;break;case 32:h.opt.spacebarenabled&&(u?h.doScrollBy(h.view.h):h.doScrollBy(-h.view.h),t=!0);break;case 27:h.zoomactive&&(h.doZoom(),t=!0)}if(t){return h.cancelEvent(s)}}},h.opt.enablekeyboard&&h.bind(document,f.isopera&&!f.isopera12?"keypress":"keydown",h.onkeypress),h.bind(window,"resize",h.lazyResize),h.bind(window,"orientationchange",h.lazyResize),h.bind(window,"load",h.lazyResize),!f.ischrome||h.ispage||h.haswrapper||(ae=h.win.attr("style"),ad=parseFloat(h.win.css("width"))+1,h.win.css("width",ad),h.synched("chromefix",function(){h.win.attr("style",ae)})),h.onAttributeChange=function(){h.lazyResize(250)},h.ispage||h.haswrapper||(I!==!1?(h.observer=new I(function(b){b.forEach(h.onAttributeChange)}),h.observer.observe(h.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),h.observerremover=new I(function(b){b.forEach(function(o){if(o.removedNodes.length>0){for(var j in o.removedNodes){if(o.removedNodes[j]==h.win[0]){return h.remove()}}}})}),h.observerremover.observe(h.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(h.bind(h.win,f.isie&&!f.isie9?"propertychange":"DOMAttrModified",h.onAttributeChange),f.isie9&&h.win[0].attachEvent("onpropertychange",h.onAttributeChange),h.bind(h.win,"DOMNodeRemoved",function(b){b.target==h.win[0]&&h.remove()}))),!h.ispage&&h.opt.boxzoom&&h.bind(window,"resize",h.resizeZoom),h.istextarea&&h.bind(h.win,"mouseup",h.lazyResize),h.checkrtlmode=!0,h.lazyResize(30)}"IFRAME"==this.doc[0].nodeName&&(this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){ab.call(h.doc[0],!1)},500),h.bind(this.doc,"load",ab))},this.showCursor=function(l,j){h.cursortimeout&&(clearTimeout(h.cursortimeout),h.cursortimeout=0),h.rail&&(h.autohidedom&&(h.autohidedom.stop().css({opacity:h.opt.cursoropacitymax}),h.cursoractive=!0),h.rail.drag&&1==h.rail.drag.pt||("undefined"!=typeof l&&l!==!1&&(h.scroll.y=Math.round(1*l/h.scrollratio.y)),"undefined"!=typeof j&&(h.scroll.x=Math.round(1*j/h.scrollratio.x))),h.cursor.css({height:h.cursorheight,top:h.scroll.y}),h.cursorh&&(!h.rail.align&&h.rail.visibility?h.cursorh.css({width:h.cursorwidth,left:h.scroll.x+h.rail.width}):h.cursorh.css({width:h.cursorwidth,left:h.scroll.x}),h.cursoractive=!0),h.zoom&&h.zoom.stop().css({opacity:h.opt.cursoropacitymax}))},this.hideCursor=function(b){h.cursortimeout||h.rail&&h.autohidedom&&(h.cursortimeout=setTimeout(function(){h.rail.active&&h.showonmouseevent||(h.autohidedom.stop().animate({opacity:h.opt.cursoropacitymin}),h.zoom&&h.zoom.stop().animate({opacity:h.opt.cursoropacitymin}),h.cursoractive=!1),h.cursortimeout=0},b||h.opt.hidecursordelay))},this.noticeCursor=function(l,j,o){h.showCursor(j,o),h.rail.active||h.hideCursor(l)},this.getContentSize=h.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:h.haswrapper?function(){return{w:h.doc.outerWidth()+parseInt(h.win.css("paddingLeft"))+parseInt(h.win.css("paddingRight")),h:h.doc.outerHeight()+parseInt(h.win.css("paddingTop"))+parseInt(h.win.css("paddingBottom"))}}:function(){return{w:h.docscroll[0].scrollWidth,h:h.docscroll[0].scrollHeight}},this.onResize=function(l,j){var v,u,t,s,p,o;if(!h.win){return !1}if(!h.haswrapper&&!h.ispage){if("none"==h.win.css("display")){return h.visibility&&h.hideRail().hideRailHr(),!1}h.hidden||h.visibility||h.showRail().showRailHr()}if(v=h.page.maxh,u=h.page.maxw,t={h:h.view.h,w:h.view.w},h.view={w:h.ispage?h.win.width():parseInt(h.win[0].clientWidth),h:h.ispage?h.win.height():parseInt(h.win[0].clientHeight)},h.page=j?j:h.getContentSize(),h.page.maxh=Math.max(0,h.page.h-h.view.h),h.page.maxw=Math.max(0,h.page.w-h.view.w),h.page.maxh==v&&h.page.maxw==u&&h.view.w==t.w){if(h.ispage){return h}if(s=h.win.offset(),h.lastposition&&(p=h.lastposition,p.top==s.top&&p.left==s.left)){return h}h.lastposition=s}return 0==h.page.maxh?(h.hideRail(),h.scrollvaluemax=0,h.scroll.y=0,h.scrollratio.y=0,h.cursorheight=0,h.setScrollTop(0),h.rail.scrollable=!1):h.rail.scrollable=!0,0==h.page.maxw?(h.hideRailHr(),h.scrollvaluemaxw=0,h.scroll.x=0,h.scrollratio.x=0,h.cursorwidth=0,h.setScrollLeft(0),h.railh.scrollable=!1):h.railh.scrollable=!0,h.locked=0==h.page.maxh&&0==h.page.maxw,h.locked?(h.ispage||h.updateScrollBar(h.view),!1):(h.hidden||h.visibility?h.hidden||h.railh.visibility||h.showRailHr():h.showRail().showRailHr(),h.istextarea&&h.win.css("resize")&&"none"!=h.win.css("resize")&&(h.view.h-=20),h.cursorheight=Math.min(h.view.h,Math.round(h.view.h*(h.view.h/h.page.h))),h.cursorheight=h.opt.cursorfixedheight?h.opt.cursorfixedheight:Math.max(h.opt.cursorminheight,h.cursorheight),h.cursorwidth=Math.min(h.view.w,Math.round(h.view.w*(h.view.w/h.page.w))),h.cursorwidth=h.opt.cursorfixedheight?h.opt.cursorfixedheight:Math.max(h.opt.cursorminheight,h.cursorwidth),h.scrollvaluemax=h.view.h-h.cursorheight-h.cursor.hborder,h.railh&&(h.railh.width=h.page.maxh>0?h.view.w-h.rail.width:h.view.w,h.scrollvaluemaxw=h.railh.width-h.cursorwidth-h.cursorh.wborder),h.checkrtlmode&&h.railh&&(h.checkrtlmode=!1,h.opt.rtlmode&&0==h.scroll.x&&h.setScrollLeft(h.page.maxw)),h.ispage||h.updateScrollBar(h.view),h.scrollratio={x:h.page.maxw/h.scrollvaluemaxw,y:h.page.maxh/h.scrollvaluemax},o=h.getScrollTop(),o>h.page.maxh?h.doScrollTop(h.page.maxh):(h.scroll.y=Math.round(h.getScrollTop()*(1/h.scrollratio.y)),h.scroll.x=Math.round(h.getScrollLeft()*(1/h.scrollratio.x)),h.cursoractive&&h.noticeCursor()),h.scroll.y&&0==h.getScrollTop()&&h.doScrollTo(Math.floor(h.scroll.y*h.scrollratio.y)),h)},this.resize=h.onResize,this.lazyResize=function(b){return b=isNaN(b)?30:b,h.delayed("resize",h.resize,b),h},this._bind=function(l,j,p,o){h.events.push({e:l,n:j,f:p,b:o,q:!1}),l.addEventListener?l.addEventListener(j,p,o||!1):l.attachEvent?l.attachEvent("on"+j,p):l["on"+j]=p},this.jqbind=function(l,j,o){h.events.push({e:l,n:j,f:o,q:!0}),Q(l).bind(j,o)},this.bind=function(l,j,u,t){var p,o,s="jquery" in l?l[0]:l;"mousewheel"==j?"onwheel" in h.win?h._bind(s,"wheel",u,t||!1):(p="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll",n(s,p,u,t||!1),"DOMMouseScroll"==p&&n(s,"MozMousePixelScroll",u,t||!1)):s.addEventListener?(f.cantouch&&/mouseup|mousedown|mousemove/.test(j)&&(o="mousedown"==j?"touchstart":"mouseup"==j?"touchend":"touchmove",h._bind(s,o,function(w){var v;w.touches?w.touches.length<2&&(v=w.touches.length?w.touches[0]:w,v.original=w,u.call(this,v)):w.changedTouches&&(v=w.changedTouches[0],v.original=w,u.call(this,v))},t||!1)),h._bind(s,j,u,t||!1),f.cantouch&&"mouseup"==j&&h._bind(s,"touchcancel",u,t||!1)):h._bind(s,j,function(b){return b=b||window.event||!1,b&&b.srcElement&&(b.target=b.srcElement),"pageY" in b||(b.pageX=b.clientX+document.documentElement.scrollLeft,b.pageY=b.clientY+document.documentElement.scrollTop),u.call(s,b)===!1||t===!1?h.cancelEvent(b):!0})},this._unbind=function(l,j,p,o){l.removeEventListener?l.removeEventListener(j,p,o):l.detachEvent?l.detachEvent("on"+j,p):l["on"+j]=!1},this.unbindAll=function(){var l,j;for(l=0;l<h.events.length;l++){j=h.events[l],j.q?j.e.unbind(j.n,j.f):h._unbind(j.e,j.n,j.f,j.b)}},this.cancelEvent=function(b){var b=b.original?b.original:b?b:window.event||!1;return b?(b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation(),b.preventManipulation&&b.preventManipulation(),b.cancelBubble=!0,b.cancel=!0,b.returnValue=!1,!1):!1},this.stopPropagation=function(b){var b=b.original?b.original:b?b:window.event||!1;return b?b.stopPropagation?b.stopPropagation():(b.cancelBubble&&(b.cancelBubble=!0),!1):!1},this.showRail=function(){return 0==h.page.maxh||!h.ispage&&"none"==h.win.css("display")||(h.visibility=!0,h.rail.visibility=!0,h.rail.css("display","block")),h},this.showRailHr=function(){return h.railh?(0==h.page.maxw||!h.ispage&&"none"==h.win.css("display")||(h.railh.visibility=!0,h.railh.css("display","block")),h):h},this.hideRail=function(){return h.visibility=!1,h.rail.visibility=!1,h.rail.css("display","none"),h},this.hideRailHr=function(){return h.railh?(h.railh.visibility=!1,h.railh.css("display","none"),h):h},this.show=function(){return h.hidden=!1,h.locked=!1,h.showRail().showRailHr()},this.hide=function(){return h.hidden=!0,h.locked=!0,h.hideRail().hideRailHr()},this.toggle=function(){return h.hidden?h.show():h.hide()},this.remove=function(){var l,j,p,o;for(h.stop(),h.cursortimeout&&clearTimeout(h.cursortimeout),h.doZoomOut(),h.unbindAll(),f.isie9&&h.win[0].detachEvent("onpropertychange",h.onAttributeChange),h.observer!==!1&&h.observer.disconnect(),h.observerremover!==!1&&h.observerremover.disconnect(),h.events=null,h.cursor&&h.cursor.remove(),h.cursorh&&h.cursorh.remove(),h.rail&&h.rail.remove(),h.railh&&h.railh.remove(),h.zoom&&h.zoom.remove(),l=0;l<h.saved.css.length;l++){j=h.saved.css[l],j[0].css(j[1],"undefined"==typeof j[2]?"":j[2])}h.saved=!1,h.me.data("__nicescroll",""),p=Q.nicescroll,p.each(function(t){if(this&&this.id===h.id){delete p[t];for(var s=++t;s<p.length;s++,t++){p[t]=p[s]}p.length--,p.length&&delete p[p.length]}});for(o in h){h[o]=null,delete h[o]}h=null},this.scrollstart=function(b){return this.onscrollstart=b,h},this.scrollend=function(b){return this.onscrollend=b,h},this.scrollcancel=function(b){return this.onscrollcancel=b,h},this.zoomin=function(b){return this.onzoomin=b,h},this.zoomout=function(b){return this.onzoomout=b,h},this.isScrollable=function(l){var p,o,j=l.target?l.target:l;if("OPTION"==j.nodeName){return !0}for(;j&&1==j.nodeType&&!/BODY|HTML/.test(j.nodeName);){if(p=Q(j),o=p.css("overflowY")||p.css("overflowX")||p.css("overflow")||"",/scroll|auto/.test(o)){return j.clientHeight!=j.scrollHeight}j=j.parentNode?j.parentNode:!1}return !1},this.getViewport=function(l){for(var p,o,j=l&&l.parentNode?l.parentNode:!1;j&&1==j.nodeType&&!/BODY|HTML/.test(j.nodeName);){if(p=Q(j),o=p.css("overflowY")||p.css("overflowX")||p.css("overflow")||"",/scroll|auto/.test(o)&&j.clientHeight!=j.scrollHeight){return p}if(p.getNiceScroll().length>0){return p}j=j.parentNode?j.parentNode:!1}return !1},this.onmousewheel=function(l){var j,p,o;return h.locked?(h.debounced("checkunlock",h.resize,250),!0):h.rail.drag?h.cancelEvent(l):("auto"==h.opt.oneaxismousemode&&0!=l.deltaX&&(h.opt.oneaxismousemode=!1),h.opt.oneaxismousemode&&0==l.deltaX&&!h.rail.scrollable?h.railh&&h.railh.scrollable?h.onmousewheelhr(l):!0:(j=+new Date,p=!1,h.opt.preservenativescrolling&&h.checkarea+600<j&&(h.nativescrollingarea=h.isScrollable(l),p=!0),h.checkarea=j,h.nativescrollingarea?!0:(o=m(l,!1,p),o&&(h.checkarea=0),o)))},this.onmousewheelhr=function(l){var j,o;return h.locked||!h.railh.scrollable?!0:h.rail.drag?h.cancelEvent(l):(j=+new Date,o=!1,h.opt.preservenativescrolling&&h.checkarea+600<j&&(h.nativescrollingarea=h.isScrollable(l),o=!0),h.checkarea=j,h.nativescrollingarea?!0:h.locked?h.cancelEvent(l):m(l,!0,o))},this.stop=function(){return h.cancelScroll(),h.scrollmon&&h.scrollmon.stop(),h.cursorfreezed=!1,h.scroll.y=Math.round(h.getScrollTop()*(1/h.scrollratio.y)),h.noticeCursor(),h},this.getTransitionSpeed=function(l){var j=Math.round(10*h.opt.scrollspeed),o=Math.min(j,Math.round(l/20*h.opt.scrollspeed));return o>20?o:0},h.opt.smoothscroll?h.ishwscroll&&f.hastransition&&h.opt.usetransition?(this.prepareTransition=function(l,j){var p=j?l>20?l:0:h.getTransitionSpeed(l),o=p?f.prefixstyle+"transform "+p+"ms ease-out":"";return h.lasttransitionstyle&&h.lasttransitionstyle==o||(h.lasttransitionstyle=o,h.doc.css(f.transitionstyle,o)),p},this.doScrollLeft=function(l,j){var o=h.scrollrunning?h.newscrolly:h.getScrollTop();h.doScrollPos(l,o,j)},this.doScrollTop=function(l,j){var o=h.scrollrunning?h.newscrollx:h.getScrollLeft();h.doScrollPos(o,l,j)},this.doScrollPos=function(l,j,s){var p=h.getScrollTop(),o=h.getScrollLeft();return((h.newscrolly-p)*(j-p)<0||(h.newscrollx-o)*(l-o)<0)&&h.cancelScroll(),0==h.opt.bouncescroll&&(0>j?j=0:j>h.page.maxh&&(j=h.page.maxh),0>l?l=0:l>h.page.maxw&&(l=h.page.maxw)),h.scrollrunning&&l==h.newscrollx&&j==h.newscrolly?!1:(h.newscrolly=j,h.newscrollx=l,h.newscrollspeed=s||!1,h.timer?!1:(h.timer=setTimeout(function(){var w,v,u,t,b,z=h.getScrollTop(),y=h.getScrollLeft(),x={};x.x=l-y,x.y=j-z,x.px=y,x.py=z,w=Math.round(Math.sqrt(Math.pow(x.x,2)+Math.pow(x.y,2))),v=h.newscrollspeed&&h.newscrollspeed>1?h.newscrollspeed:h.getTransitionSpeed(w),h.newscrollspeed&&h.newscrollspeed<=1&&(v*=h.newscrollspeed),h.prepareTransition(v,!0),h.timerscroll&&h.timerscroll.tm&&clearInterval(h.timerscroll.tm),v>0&&(!h.scrollrunning&&h.onscrollstart&&(u={type:"scrollstart",current:{x:y,y:z},request:{x:l,y:j},end:{x:h.newscrollx,y:h.newscrolly},speed:v},h.onscrollstart.call(h,u)),f.transitionend?h.scrollendtrapped||(h.scrollendtrapped=!0,h.bind(h.doc,f.transitionend,h.onScrollEnd,!1)):(h.scrollendtrapped&&clearTimeout(h.scrollendtrapped),h.scrollendtrapped=setTimeout(h.onScrollEnd,v)),t=z,b=y,h.timerscroll={bz:new BezierClass(t,h.newscrolly,v,0,0,0.58,1),bh:new BezierClass(b,h.newscrollx,v,0,0,0.58,1)},h.cursorfreezed||(h.timerscroll.tm=setInterval(function(){h.showCursor(h.getScrollTop(),h.getScrollLeft())},60))),h.synched("doScroll-set",function(){h.timer=0,h.scrollendtrapped&&(h.scrollrunning=!0),h.setScrollTop(h.newscrolly),h.setScrollLeft(h.newscrollx),h.scrollendtrapped||h.onScrollEnd()})},50),void 0))},this.cancelScroll=function(){var l,j;return h.scrollendtrapped?(l=h.getScrollTop(),j=h.getScrollLeft(),h.scrollrunning=!1,f.transitionend||clearTimeout(f.transitionend),h.scrollendtrapped=!1,h._unbind(h.doc,f.transitionend,h.onScrollEnd),h.prepareTransition(0),h.setScrollTop(l),h.railh&&h.setScrollLeft(j),h.timerscroll&&h.timerscroll.tm&&clearInterval(h.timerscroll.tm),h.timerscroll=!1,h.cursorfreezed=!1,h.showCursor(l,j),h):!0},this.onScrollEnd=function(){var l,j,o;return h.scrollendtrapped&&h._unbind(h.doc,f.transitionend,h.onScrollEnd),h.scrollendtrapped=!1,h.prepareTransition(0),h.timerscroll&&h.timerscroll.tm&&clearInterval(h.timerscroll.tm),h.timerscroll=!1,l=h.getScrollTop(),j=h.getScrollLeft(),h.setScrollTop(l),h.railh&&h.setScrollLeft(j),h.noticeCursor(!1,l,j),h.cursorfreezed=!1,0>l?l=0:l>h.page.maxh&&(l=h.page.maxh),0>j?j=0:j>h.page.maxw&&(j=h.page.maxw),l!=h.newscrolly||j!=h.newscrollx?h.doScrollPos(j,l,h.opt.snapbackspeed):(h.onscrollend&&h.scrollrunning&&(o={type:"scrollend",current:{x:j,y:l},end:{x:h.newscrollx,y:h.newscrolly}},h.onscrollend.call(h,o)),h.scrollrunning=!1,void 0)}):(this.doScrollLeft=function(l,j){var o=h.scrollrunning?h.newscrolly:h.getScrollTop();h.doScrollPos(l,o,j)},this.doScrollTop=function(l,j){var o=h.scrollrunning?h.newscrollx:h.getScrollLeft();h.doScrollPos(o,l,j)},this.doScrollPos=function(Z,Y,X){function s(){var l,j,ab,aa,o;return h.cancelAnimationFrame?!0:(h.scrollrunning=!0,(t=1-t)?h.timer=M(s)||1:(l=0,j=sy=h.getScrollTop(),h.dst.ay?(j=h.bzscroll?h.dst.py+h.bzscroll.getNow()*h.dst.ay:h.newscrolly,ab=j-sy,(0>ab&&j<h.newscrolly||ab>0&&j>h.newscrolly)&&(j=h.newscrolly),h.setScrollTop(j),j==h.newscrolly&&(l=1)):l=1,aa=sx=h.getScrollLeft(),h.dst.ax?(aa=h.bzscroll?h.dst.px+h.bzscroll.getNow()*h.dst.ax:h.newscrollx,ab=aa-sx,(0>ab&&aa<h.newscrollx||ab>0&&aa>h.newscrollx)&&(aa=h.newscrollx),h.setScrollLeft(aa),aa==h.newscrollx&&(l+=1)):l+=1,2==l?(h.timer=0,h.cursorfreezed=!1,h.bzscroll=!1,h.scrollrunning=!1,0>j?j=0:j>h.page.maxh&&(j=h.page.maxh),0>aa?aa=0:aa>h.page.maxw&&(aa=h.page.maxw),aa!=h.newscrollx||j!=h.newscrolly?h.doScrollPos(aa,j):h.onscrollend&&(o={type:"scrollend",current:{x:sx,y:sy},end:{x:h.newscrollx,y:h.newscrolly}},h.onscrollend.call(h,o))):h.timer=M(s)||1,void 0))}var z,y,x,w,v,u,t,p;return Y="undefined"==typeof Y||Y===!1?h.getScrollTop(!0):Y,h.timer&&h.newscrolly==Y&&h.newscrollx==Z?!0:(h.timer&&L(h.timer),h.timer=0,z=h.getScrollTop(),y=h.getScrollLeft(),((h.newscrolly-z)*(Y-z)<0||(h.newscrollx-y)*(Z-y)<0)&&h.cancelScroll(),h.newscrolly=Y,h.newscrollx=Z,h.bouncescroll&&h.rail.visibility||(h.newscrolly<0?h.newscrolly=0:h.newscrolly>h.page.maxh&&(h.newscrolly=h.page.maxh)),h.bouncescroll&&h.railh.visibility||(h.newscrollx<0?h.newscrollx=0:h.newscrollx>h.page.maxw&&(h.newscrollx=h.page.maxw)),h.dst={},h.dst.x=Z-y,h.dst.y=Y-z,h.dst.px=y,h.dst.py=z,x=Math.round(Math.sqrt(Math.pow(h.dst.x,2)+Math.pow(h.dst.y,2))),h.dst.ax=h.dst.x/x,h.dst.ay=h.dst.y/x,w=0,v=x,0==h.dst.x?(w=z,v=Y,h.dst.ay=1,h.dst.py=0):0==h.dst.y&&(w=y,v=Z,h.dst.ax=1,h.dst.px=0),u=h.getTransitionSpeed(x),X&&1>=X&&(u*=X),h.bzscroll=u>0?h.bzscroll?h.bzscroll.update(v,u):new BezierClass(w,v,u,0,1,0,1):!1,h.timer||((z==h.page.maxh&&Y>=h.page.maxh||y==h.page.maxw&&Z>=h.page.maxw)&&h.checkContentSize(),t=1,h.cancelAnimationFrame=!1,h.timer=1,h.onscrollstart&&!h.scrollrunning&&(p={type:"scrollstart",current:{x:y,y:z},request:{x:Z,y:Y},end:{x:h.newscrollx,y:h.newscrolly},speed:u},h.onscrollstart.call(h,p)),s(),(z==h.page.maxh&&Y>=z||y==h.page.maxw&&Z>=y)&&h.checkContentSize(),h.noticeCursor()),void 0)},this.cancelScroll=function(){return h.timer&&L(h.timer),h.timer=0,h.bzscroll=!1,h.scrollrunning=!1,h}):(this.doScrollLeft=function(l,j){var o=h.getScrollTop();h.doScrollPos(l,o,j)},this.doScrollTop=function(l,j){var o=h.getScrollLeft();h.doScrollPos(o,l,j)},this.doScrollPos=function(l,j){var o,p=l>h.page.maxw?h.page.maxw:l;0>p&&(p=0),o=j>h.page.maxh?h.page.maxh:j,0>o&&(o=0),h.synched("scroll",function(){h.setScrollTop(o),h.setScrollLeft(p)})},this.cancelScroll=function(){}),this.doScrollBy=function(l,j){var p,o,s=0;return j?s=Math.floor((h.scroll.y-l)*h.scrollratio.y):(p=h.timer?h.newscrolly:h.getScrollTop(!0),s=p-l),h.bouncescroll&&(o=Math.round(h.view.h/2),-o>s?s=-o:s>h.page.maxh+o&&(s=h.page.maxh+o)),h.cursorfreezed=!1,py=h.getScrollTop(!0),0>s&&0>=py?h.noticeCursor():s>h.page.maxh&&py>=h.page.maxh?(h.checkContentSize(),h.noticeCursor()):(h.doScrollTop(s),void 0)},this.doScrollLeftBy=function(l,j){var p,o,s=0;return j?s=Math.floor((h.scroll.x-l)*h.scrollratio.x):(p=h.timer?h.newscrollx:h.getScrollLeft(!0),s=p-l),h.bouncescroll&&(o=Math.round(h.view.w/2),-o>s?s=-o:s>h.page.maxw+o&&(s=h.page.maxw+o)),h.cursorfreezed=!1,px=h.getScrollLeft(!0),0>s&&0>=px?h.noticeCursor():s>h.page.maxw&&px>=h.page.maxw?h.noticeCursor():(h.doScrollLeft(s),void 0)},this.doScrollTo=function(l,j){var o=j?Math.round(l*h.scrollratio.y):l;0>o?o=0:o>h.page.maxh&&(o=h.page.maxh),h.cursorfreezed=!1,h.doScrollTop(l)},this.checkContentSize=function(){var b=h.getContentSize();(b.h!=h.page.h||b.w!=h.page.w)&&h.resize(!1,b)},h.onscroll=function(){h.rail.drag||h.cursorfreezed||h.synched("scroll",function(){h.scroll.y=Math.round(h.getScrollTop()*(1/h.scrollratio.y)),h.railh&&(h.scroll.x=Math.round(h.getScrollLeft()*(1/h.scrollratio.x))),h.noticeCursor()})},h.bind(h.docscroll,"scroll",h.onscroll),this.doZoomIn=function(l){var j,t,s,p,o;if(!h.zoomactive){h.zoomactive=!0,h.zoomrestore={style:{}},j=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],t=h.win[0].style;for(s in j){p=j[s],h.zoomrestore.style[p]="undefined"!=typeof t[p]?t[p]:""}return h.zoomrestore.style.width=h.win.css("width"),h.zoomrestore.style.height=h.win.css("height"),h.zoomrestore.padding={w:h.win.outerWidth()-h.win.width(),h:h.win.outerHeight()-h.win.height()},f.isios4&&(h.zoomrestore.scrollTop=Q(window).scrollTop(),Q(window).scrollTop(0)),h.win.css({position:f.isios4?"absolute":"fixed",top:0,left:0,"z-index":R+100,margin:"0px"}),o=h.win.css("backgroundColor"),(""==o||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(o))&&h.win.css("backgroundColor","#fff"),h.rail.css({"z-index":R+101}),h.zoom.css({"z-index":R+102}),h.zoom.css("backgroundPosition","0px -18px"),h.resizeZoom(),h.onzoomin&&h.onzoomin.call(h),h.cancelEvent(l)}},this.doZoomOut=function(b){return h.zoomactive?(h.zoomactive=!1,h.win.css("margin",""),h.win.css(h.zoomrestore.style),f.isios4&&Q(window).scrollTop(h.zoomrestore.scrollTop),h.rail.css({"z-index":h.zindex}),h.zoom.css({"z-index":h.zindex}),h.zoomrestore=!1,h.zoom.css("backgroundPosition","0px 0px"),h.onResize(),h.onzoomout&&h.onzoomout.call(h),h.cancelEvent(b)):void 0},this.doZoom=function(b){return h.zoomactive?h.doZoomOut(b):h.doZoomIn(b)},this.resizeZoom=function(){if(h.zoomactive){var b=h.getScrollTop();h.win.css({width:Q(window).width()-h.zoomrestore.padding.w+"px",height:Q(window).height()-h.zoomrestore.padding.h+"px"}),h.onResize(),h.setScrollTop(Math.min(h.page.maxh,b))}},this.init(),Q.nicescroll.push(this)},D=function(d){var c=this;this.nc=d,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.time=function(){return +new Date},this.reset=function(b,g){c.stop();var f=c.time();c.steptime=0,c.lasttime=f,c.speedx=0,c.speedy=0,c.lastx=b,c.lasty=g,c.lastscrollx=-1,c.lastscrolly=-1},this.update=function(r,q){var o,n,m,l,k,b,p=c.time();c.steptime=p-c.lasttime,c.lasttime=p,o=q-c.lasty,n=r-c.lastx,m=c.nc.getScrollTop(),l=c.nc.getScrollLeft(),k=m+o,b=l+n,c.snapx=0>b||b>c.nc.page.maxw,c.snapy=0>k||k>c.nc.page.maxh,c.speedx=n,c.speedy=o,c.lastx=r,c.lasty=q},this.stop=function(){c.nc.unsynched("domomentum2d"),c.timer&&clearTimeout(c.timer),c.timer=0,c.lastscrollx=-1,c.lastscrolly=-1},this.doSnapy=function(b,g){var f=!1;0>g?(g=0,f=!0):g>c.nc.page.maxh&&(g=c.nc.page.maxh,f=!0),0>b?(b=0,f=!0):b>c.nc.page.maxw&&(b=c.nc.page.maxw,f=!0),f&&c.nc.doScrollPos(b,g,c.nc.opt.snapbackspeed)},this.doMomentum=function(aa){var w,v,u,t,s,r,q,b,Z=c.time(),Y=aa?Z+aa:c.lasttime,X=c.nc.getScrollLeft(),z=c.nc.getScrollTop(),y=c.nc.page.maxh,x=c.nc.page.maxw;c.speedx=x>0?Math.min(60,c.speedx):0,c.speedy=y>0?Math.min(60,c.speedy):0,w=Y&&60>=Z-Y,(0>z||z>y||0>X||X>x)&&(w=!1),v=c.speedy&&w?c.speedy:!1,u=c.speedx&&w?c.speedx:!1,v||u?(t=Math.max(16,c.steptime),t>50&&(s=t/50,c.speedx*=s,c.speedy*=s,t=50),c.demulxy=0,c.lastscrollx=c.nc.getScrollLeft(),c.chkx=c.lastscrollx,c.lastscrolly=c.nc.getScrollTop(),c.chky=c.lastscrolly,r=c.lastscrollx,q=c.lastscrolly,b=function(){var f=c.time()-Z>600?0.04:0.02;c.speedx&&(r=Math.floor(c.lastscrollx-c.speedx*(1-c.demulxy)),c.lastscrollx=r,(0>r||r>x)&&(f=0.1)),c.speedy&&(q=Math.floor(c.lastscrolly-c.speedy*(1-c.demulxy)),c.lastscrolly=q,(0>q||q>y)&&(f=0.1)),c.demulxy=Math.min(1,c.demulxy+f),c.nc.synched("domomentum2d",function(){var g,h;c.speedx&&(g=c.nc.getScrollLeft(),g!=c.chkx&&c.stop(),c.chkx=r,c.nc.setScrollLeft(r)),c.speedy&&(h=c.nc.getScrollTop(),h!=c.chky&&c.stop(),c.chky=q,c.nc.setScrollTop(q)),c.timer||(c.nc.hideCursor(),c.doSnapy(r,q))}),c.demulxy<1?c.timer=setTimeout(b,t):(c.stop(),c.nc.hideCursor(),c.doSnapy(r,q))},b()):c.doSnapy(c.nc.getScrollLeft(),c.nc.getScrollTop())}},C=W.fn.scrollTop,W.cssHooks.pageYOffset={get:function(b){var c=Q.data(b,"__nicescroll")||!1;return c&&c.ishwscroll?c.getScrollTop():C.call(b)},set:function(f,d){var g=Q.data(f,"__nicescroll")||!1;return g&&g.ishwscroll?g.setScrollTop(parseInt(d)):C.call(f,d),this}},W.fn.scrollTop=function(d){if("undefined"==typeof d){var c=this[0]?Q.data(this[0],"__nicescroll")||!1:!1;return c&&c.ishwscroll?c.getScrollTop():C.call(this)}return this.each(function(){var f=Q.data(this,"__nicescroll")||!1;f&&f.ishwscroll?f.setScrollTop(parseInt(d)):C.call(Q(this),d)})},B=W.fn.scrollLeft,Q.cssHooks.pageXOffset={get:function(b){var c=Q.data(b,"__nicescroll")||!1;return c&&c.ishwscroll?c.getScrollLeft():B.call(b)},set:function(f,d){var g=Q.data(f,"__nicescroll")||!1;return g&&g.ishwscroll?g.setScrollLeft(parseInt(d)):B.call(f,d),this}},W.fn.scrollLeft=function(d){if("undefined"==typeof d){var c=this[0]?Q.data(this[0],"__nicescroll")||!1:!1;return c&&c.ishwscroll?c.getScrollLeft():B.call(this)}return this.each(function(){var f=Q.data(this,"__nicescroll")||!1;f&&f.ishwscroll?f.setScrollLeft(parseInt(d)):B.call(Q(this),d)})},A=function(f){var g,h=this;if(this.length=0,this.name="nicescrollarray",this.each=function(i){for(var c=0,j=0;c<h.length;c++){i.call(h[c],j++)}return h},this.push=function(b){h[h.length]=b,h.length++},this.eq=function(b){return h[b]},f){for(a=0;a<f.length;a++){g=Q.data(f[a],"__nicescroll")||!1,g&&(this[this.length]=g,this.length++)}}return this},e(A.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(d,c){d[c]=function(){var b=arguments;return this.each(function(){this[c].apply(this,b)})}}),W.fn.getNiceScroll=function(d){if("undefined"==typeof d){return new A(this)}var c=this[d]&&Q.data(this[d],"__nicescroll")||!1;return c},W.extend(W.expr[":"],{nicescroll:function(b){return Q.data(b,"__nicescroll")?!0:!1}}),Q.fn.niceScroll=function(g,f){var i,h;return"undefined"==typeof f&&("object"!=typeof g||"jquery" in g||(f=g,g=!1)),i=new A,"undefined"==typeof f&&(f={}),g&&(f.doc=Q(g),f.win=Q(this)),h=!("doc" in f),h||"win" in f||(f.win=Q(this)),this.each(function(){var b=Q(this).data("__nicescroll")||!1;b||(f.doc=h?Q(this):f.doc,b=new E(f,Q(this)),Q(this).data("__nicescroll",b)),i.push(b)}),1==i.length?i[0]:i},window.NiceScroll={getjQuery:function(){return W}},Q.nicescroll||(Q.nicescroll=new A,Q.nicescroll.options=H)}(jQuery);
